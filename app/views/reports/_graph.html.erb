<script>
      var parametro;

      function datos()
      {
      var tiempo = '<%=@reporte.time.to_i%>'
      var ret=[];
      '<%@historicos.each do |variable| %>'
          if (tiempo = 1)
          {
          parametro = 'month';
          }
          if (tiempo = 2)
          {
          parametro = 'day';
          }
          if (tiempo = 3)
          {
          parametro = 'day';
          }
          if (tiempo = 4)
          {
          parametro = 'hour';
          }
          if (tiempo = 5)
          {
          parametro = 'minute';
          }
          if (tiempo >= 6)
          {
          parametro = 'second';
          }

          var  p = '<%=variable.tstamp%>'
          var c = new Date(p*1000).getTime();
          var b =  '<%=variable.valuee%>'

          ret.push({
          // parametro: a,
          parametro: c ,
          y: b
          });
      '<%end%>'

      return ret;
      }

      new Morris.Line(
      {
      element: 'graficoestatico',
      data:datos(),
      lineColors: ['#009900'],
      xkey: 'parametro' ,
      ykeys: ['y'],
      parseTime: true,
      labels: ['Valor']
      }
      );
</script>


<h2 class="the-legend">Grafico</h2>
<div id="graficoestatico" align="center"></div>
